{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/MyAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/MyAccount.vue","mtime":1632660012160},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90YW54aWFvbG9uZy9EZXNrdG9wL0Jsb2cvZGV2ZWxvcG1lbnQvZGphY2tldHNfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgT3JkZXJTdW1tYXJ5IGZyb20gIkAvY29tcG9uZW50cy9PcmRlclN1bW1hcnkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15QWNjb3VudCIsCiAgY29tcG9uZW50czogewogICAgT3JkZXJTdW1tYXJ5OiBPcmRlclN1bW1hcnkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gIk15IGFjY291bnQgfCBEamFja2V0cyI7CiAgICB0aGlzLmdldE15T3JkZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJuYW1lIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyaWQiKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdyZW1vdmVUb2tlbicpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIGdldE15T3JkZXJzOiBmdW5jdGlvbiBnZXRNeU9yZGVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvYXBpL3YxL29yZGVycycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm9yZGVycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/MyAccount.vue"],"names":[],"mappings":";;AAyBA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,MAAyB,2BAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,UAAU,EAAC;AACT,IAAA,YAAW,EAAX;AADS,GAFE;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,MAAM,EAAE;AADH,KAAP;AAGD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,uBAAjB;AAEA,SAAK,WAAL;AACD,GAdY;AAeb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,oBACE;AACP,MAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AAEA,MAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,UAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,QAAxB;AAEA,WAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB;AAEA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,KAXM;AAaD,IAAA,WAbC,yBAaa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADkB;AAAA,uBAEZ,KAAI,CACP,GADG,CACC,gBADD,EAEH,IAFG,CAEE,UAAA,QAAO,EAAK;AAChB,kBAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACD,iBAJG,EAKH,KALG,CAKG,UAAA,KAAI,EAAK;AACd,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAPG,CAFY;;AAAA;AAUlB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAVkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAapB;AA1BO;AAfI,CAAf","sourcesContent":["<template>\n  <div class=\"page-my-count\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">My account</h1>\n      </div>\n\n      <div class=\"column is-12\">\n        <button @click=\"logout()\" class=\"button is-danger\">Log out</button>\n      </div>\n\n\n\n      <hr>\n\n      <div class=\"column is-12\">\n        <h2 class=\"subtitle\">My orders</h2>\n        <OrderSummary v-for=\"order in orders\" v-bind:key=\"order.id\" v-bind:order=\"order\" />\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport OrderSummary from \"@/components/OrderSummary\";\n\nexport default {\n  name: \"MyAccount\",\n  components:{\n    OrderSummary\n  },\n  data() {\n    return {\n      orders: []\n    }\n  },\n  mounted() {\n    document.title = \"My account | Djackets\"\n\n    this.getMyOrders()\n  },\n  methods: {\n    logout() {\n      axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"username\")\n      localStorage.removeItem(\"userid\")\n\n      this.$store.commit('removeToken')\n\n      this.$router.push('/')\n    },\n\n    async getMyOrders() {\n      this.$store.commit('setIsLoading', true)\n      await axios\n        .get('/api/v1/orders')\n        .then(response => {\n          this.orders = response.data\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      this.$store.commit('setIsLoading', false)\n\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}