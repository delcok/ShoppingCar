{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js","mtime":1630055338598},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIG5hbWVzcGFjZTogdHJ1ZSwKICBzdGF0ZTogewogICAgY2FydDogewogICAgICBpdGVtczogW10KICAgIH0sCiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgdG9rZW46ICcnLAogICAgaXNMb2FkaW5nOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBpbml0aWFsaXplU3RvcmU6IGZ1bmN0aW9uIGluaXRpYWxpemVTdG9yZShzdGF0ZSkgewogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSkgewogICAgICAgIHN0YXRlLmNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpOwogICAgICB9IGVsc2UgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FydCkpOwogICAgICB9CiAgICB9CiAgfSwKICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgaXRlbSkgewogICAgdmFyIGV4aXN0cyA9IHN0YXRlLmNhcnQuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgIHJldHVybiBpLnByb2R1Y3QuaWQgPT0gaXRlbS5wcm9kdWN0LmlkOwogICAgfSk7CgogICAgaWYgKGV4aXN0cy5sZW5ndGgpIHsKICAgICAgZXhpc3RzWzBdLnF1YW50aXR5ID0gcGFyc2VJbnQoZXhpc3RzWzBdLnF1YW50aXR5KSArIHBhcnNlSW50KGl0ZW0ucXVhbnRpdHkpOwogICAgfSBlbHNlIHsKICAgICAgc3RhdGUuY2FydC5pdGVtcy5wdXNoKGl0ZW0pOwogICAgfQoKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FydCkpOwogIH0sCiAgYWN0aW9uczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js"],"names":["createStore","namespace","state","cart","items","isAuthenticated","token","isLoading","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","length","quantity","parseInt","push","actions","modules"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;AACzBC,EAAAA,SAAS,EAAC,IADe;AAEzBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAC;AACHC,MAAAA,KAAK,EAAE;AADJ,KADA;AAILC,IAAAA,eAAe,EAAE,KAJZ;AAKLC,IAAAA,KAAK,EAAE,EALF;AAMLC,IAAAA,SAAS,EAAE;AANN,GAFkB;AAUzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,eADS,2BACOP,KADP,EACa;AACpB,UAAIQ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAiC;AAC/BT,QAAAA,KAAK,CAACC,IAAN,GAAaS,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAED,OAHD,MAGK;AACHD,QAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,SAAL,CAAeb,KAAK,CAACC,IAArB,CAA7B;AACD;AACF;AARQ,GAVc;AAoBzBa,EAAAA,SApByB,qBAoBfd,KApBe,EAoBRe,IApBQ,EAoBF;AACrB,QAAMC,MAAM,GAAGhB,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBe,MAAjB,CAAwB,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,OAAF,CAAUC,EAAV,IAAgBL,IAAI,CAACI,OAAL,CAAaC,EAAjC;AAAA,KAAzB,CAAf;;AAEA,QAAIJ,MAAM,CAACK,MAAX,EAAmB;AACjBL,MAAAA,MAAM,CAAC,CAAD,CAAN,CAAUM,QAAV,GAAqBC,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAN,CAAUM,QAAX,CAAR,GAA+BC,QAAQ,CAACR,IAAI,CAACO,QAAN,CAA5D;AACD,KAFD,MAEO;AACLtB,MAAAA,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBsB,IAAjB,CAAsBT,IAAtB;AACD;;AAEDP,IAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,SAAL,CAAeb,KAAK,CAACC,IAArB,CAA7B;AACD,GA9BwB;AAgCzBwB,EAAAA,OAAO,EAAE,EAhCgB;AAkCzBC,EAAAA,OAAO,EAAE;AAlCgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  namespace:true,\n  state: {\n    cart:{\n      items: [],\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false\n  },\n  mutations: {\n    initializeStore(state){\n      if (localStorage.getItem('cart')){\n        state.cart = JSON.parse(localStorage.getItem('cart'))\n\n      }else{\n        localStorage.setItem('cart', JSON.stringify(state.cart))\n      }\n    }\n  },\n  addToCart(state, item) {\n    const exists = state.cart.items.filter(i => i.product.id == item.product.id)\n\n    if (exists.length) {\n      exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity)\n    } else {\n      state.cart.items.push(item)\n    }\n\n    localStorage.setItem('cart', JSON.stringify(state.cart))\n  },\n\n  actions: {\n  },\n  modules: {\n  }\n})\n"]}]}