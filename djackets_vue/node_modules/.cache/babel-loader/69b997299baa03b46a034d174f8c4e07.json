{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Cart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Cart.vue","mtime":1632648327251},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IENhcnRJdGVtIGZyb20gIkAvY29tcG9uZW50cy9DYXJ0SXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FydCIsCiAgY29tcG9uZW50czogewogICAgQ2FydEl0ZW06IENhcnRJdGVtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydDogewogICAgICAgIGl0ZW1zOiBbXQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY2FydCA9IHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQ7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoaXRlbSkgewogICAgICB0aGlzLmNhcnQuaXRlbXMgPSB0aGlzLmNhcnQuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkucHJvZHVjdC5pZCAhPT0gaXRlbS5wcm9kdWN0LmlkOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJ0VG90YWxMZW5ndGg6IGZ1bmN0aW9uIGNhcnRUb3RhbExlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FydC5pdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyVmFsKSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBjdXJWYWwucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIGNhcnRUb3RhbFByaWNlOiBmdW5jdGlvbiBjYXJ0VG90YWxQcmljZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FydC5pdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyVmFsKSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBjdXJWYWwucHJvZHVjdC5wcmljZSAqIGN1clZhbC5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Cart.vue"],"names":[],"mappings":";AAqCA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,QAAP,MAAqB,uBAArB;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACR,IAAA,QAAO,EAAP;AADQ,GAFC;AAKb,EAAA,IALa,kBAKP;AACJ,WAAO;AACL,MAAA,IAAI,EAAC;AACH,QAAA,KAAK,EAAE;AADJ;AADA,KAAP;AAKD,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,SAAK,IAAL,GAAY,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAA9B;AACD,GAdY;AAeb,EAAA,OAAO,EAAE;AACP,IAAA,cADO,0BACQ,IADR,EACa;AAClB,WAAK,IAAL,CAAU,KAAV,GAAkB,KAAK,IAAL,CAAU,KAAV,CAAgB,MAAhB,CAAwB,UAAA,CAAA;AAAA,eAAK,CAAC,CAAC,OAAF,CAAU,EAAV,KAAiB,IAAI,CAAC,OAAL,CAAa,EAAnC;AAAA,OAAxB,CAAlB;AAEF;AAJO,GAfI;AAsBb,EAAA,QAAQ,EAAE;AACR,IAAA,eADQ,6BACU;AAChB,aAAO,KAAK,IAAL,CAAU,KAAV,CAAgB,MAAhB,CAAuB,UAAC,GAAD,EAAM,MAAN,EAAe;AAC3C,eAAO,GAAE,IAAK,MAAM,CAAC,QAArB;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KALO;AAMR,IAAA,cANQ,4BAMQ;AACd,aAAO,KAAK,IAAL,CAAU,KAAV,CAAgB,MAAhB,CAAuB,UAAC,GAAD,EAAM,MAAN,EAAe;AAC3C,eAAO,GAAE,IAAK,MAAM,CAAC,OAAP,CAAe,KAAf,GAAuB,MAAM,CAAC,QAA5C;AACD,OAFM,EAEJ,CAFI,CAAP;AAGF;AAVQ;AAtBG,CAAf","sourcesContent":["<template>\n  <div class=\"page-Cart\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">Cart</h1>\n      </div>\n      <div class=\"column is-12 box\">\n        <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\n          <thead>\n            <tr>\n              <th>Product</th>\n              <th>Price</th>\n              <th>Quantity</th>\n              <th>Total</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <CartItem v-for=\"item in cart.items\" v-bind:key=\"item.product.id\" v-bind:initialItem=\"item\" v-on:removeFromCart=\"removeFromCart\"></CartItem>\n          </tbody>\n        </table>\n        <p v-else>You don't have any products in you cart...</p>\n\n        <div class=\"column is-12 box\">\n          <h2 class=\"subtitle\">Summary</h2>\n          <strong>${{ cartTotalPrice.toFixed(2) }}</strong>, {{ cartTotalLength }} items\n          <hr>\n          <router-link to=\"/cart/checkout\" class=\"button is-dark\">Proceed to checkout</router-link>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CartItem from \"@/components/CartItem\";\n\n\nexport default {\n  name: \"Cart\",\n  components: {\n      CartItem\n  },\n  data(){\n    return {\n      cart:{\n        items: [],\n      }\n    }\n  },\n  mounted() {\n    this.cart = this.$store.state.cart\n  },\n  methods: {\n    removeFromCart(item){\n      this.cart.items = this.cart.items.filter( i => i.product.id !== item.product.id)\n\n    }\n\n  },\n  computed: {\n    cartTotalLength() {\n      return this.cart.items.reduce((acc, curVal)=>{\n        return acc += curVal.quantity\n      }, 0)\n    },\n    cartTotalPrice(){\n      return this.cart.items.reduce((acc, curVal)=>{\n        return acc += curVal.product.price * curVal.quantity\n      }, 0)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}