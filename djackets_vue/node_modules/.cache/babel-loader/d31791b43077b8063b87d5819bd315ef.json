{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/SingUp.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/SingUp.vue","mtime":1630330960065},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2luZ1VwIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lID09PSAnJykgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSB1c2VybmFtZSBpcyBtaXNzaW5nJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSAnJykgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSBwYXNzd29yZCBpcyB0b28gc2hvcnQnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBhc3N3b3JkcyBkb2VzblwndCBtYXRjaCcpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgIHZhciBmb3JtRGF0ZSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvdXNlcnMvIiwgZm9ybURhdGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdBY291bnQgY3JlYXRlZCxwbGVhc2UgbG9nIGluJywKICAgICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2ctaW4nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLlBsZWFzZSB0cnkgYWdhaW4nKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/SingUp.vue"],"names":[],"mappings":";AAgDA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,KAAR,QAAoB,aAApB;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,SAAS,EAAE,EAHN;AAIL,MAAA,MAAM,EAAE;AAJH,KAAP;AAMD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACK;AAAA;;AACV,WAAK,MAAL,GAAc,EAAd;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACxB,aAAK,MAAL,CAAY,IAAZ,CAAiB,yBAAjB;AAEF;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACxB,aAAK,MAAL,CAAY,IAAZ,CAAiB,2BAAjB;AACF;;AAEA,UAAI,KAAK,QAAL,KAAkB,KAAK,SAA3B,EAAsC;AACpC,aAAK,MAAL,CAAY,IAAZ,CAAiB,8BAAjB;AACF;;AAEA,UAAI,CAAC,KAAK,MAAL,CAAY,MAAjB,EAAwB;AACtB,YAAM,QAAO,GAAI;AACf,UAAA,QAAQ,EAAE,KAAK,QADA;AAEf,UAAA,QAAQ,EAAE,KAAK;AAFA,SAAjB;AAMA,QAAA,KAAI,CACD,IADH,CACQ,gBADR,EAC0B,QAD1B,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,UAAA,KAAK,CAAC;AACJ,YAAA,OAAO,EAAC,8BADJ;AAEJ,YAAA,IAAI,EAAE,YAFF;AAGJ,YAAA,WAAW,EAAE,IAHT;AAIJ,YAAA,YAAY,EAAE,IAJV;AAKJ,YAAA,QAAQ,EAAE,IALN;AAMJ,YAAA,QAAQ,EAAE;AANN,WAAD,CAAL;;AASA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACD,SAbH,EAcC,KAdD,CAcO,UAAA,KAAI,EAAK;AACd,cAAI,KAAK,CAAC,QAAV,EAAmB;AACjB,iBAAK,IAAM,QAAX,IAAuB,KAAK,CAAC,QAAN,CAAe,IAAtC,EAA2C;AACzC,cAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,WAAoB,QAApB,cAAgC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,QAApB,CAAhC;AACF;;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAN,CAAe,IAA9B,CAAZ;AACF,WALA,MAKO,IAAI,KAAK,CAAC,OAAV,EAAkB;AACvB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,uCAAjB;;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,CAAZ;AACF;AACD,SAxBD;AAyBF;AAEF;AAnDO;AAVI,CAAf","sourcesContent":["<template>\n  <div class=\"page-sign-up\">\n    <div class=\"colums\">\n      <div class=\"column is-4 is-offset-4\">\n        <h1 class=\"title\">Sign Up</h1>\n\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"field\">\n            <label>Username</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"username\">\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>Password</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input\" v-model=\"password\">\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>Repeat password</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input\" v-model=\"password2\">\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n            <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">Sign up</button>\n            </div>\n          </div>\n\n          <hr>\n          or <router-link to=\"/log-in\">click here</router-link> to login in\n        </form>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {toast} from 'bulma-toast'\n\n\nexport default {\n  name: \"SingUp\",\n  data() {\n    return {\n      username: '',\n      password: '',\n      password2: '',\n      errors: []\n    }\n  },\n  methods: {\n    submitForm(){\n      this.errors = []\n\n      if (this.username === '') {\n        this.errors.push('The username is missing')\n\n      }\n\n      if (this.password === '') {\n        this.errors.push('The password is too short')\n      }\n\n      if (this.password !== this.password2) {\n        this.errors.push('The passwords doesn\\'t match')\n      }\n\n      if (!this.errors.length){\n        const formDate = {\n          username: this.username,\n          password: this.password\n\n        }\n\n        axios\n          .post(\"/api/v1/users/\", formDate)\n          .then(response => {\n            toast({\n              message:'Acount created,please log in',\n              type: 'is-success',\n              dismissible: true,\n              pauseOnHover: true,\n              duration: 2000,\n              position: 'bottom-right'\n            })\n\n            this.$router.push('/log-in')\n          })\n        .catch(error => {\n          if (error.response){\n            for (const property in error.response.data){\n              this.errors.push(`${property}:${error.response.data[property]}`)\n            }\n            console.log(JSON.stringify(error.response.data))\n          } else if (error.message){\n            this.errors.push('Something went wrong.Please try again')\n            console.log(JSON.stringify(error))\n          }\n        })\n      }\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}