{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js","mtime":1630402233672},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0OiB7CiAgICAgIGl0ZW1zOiBbXQogICAgfSwKICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsCiAgICB0b2tlbjogJycsCiAgICBpc0xvYWRpbmc6IGZhbHNlCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGluaXRpYWxpemVTdG9yZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0b3JlKHN0YXRlKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSB7CiAgICAgICAgc3RhdGUuY2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jYXJ0KSk7CiAgICAgIH0KCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkgewogICAgICAgIHN0YXRlLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoc3RhdGUsIGl0ZW0pIHsKICAgICAgdmFyIGV4aXN0cyA9IHN0YXRlLmNhcnQuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkucHJvZHVjdC5pZCA9PSBpdGVtLnByb2R1Y3QuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGV4aXN0cy5sZW5ndGgpIHsKICAgICAgICBleGlzdHNbMF0ucXVhbnRpdHkgPSBwYXJzZUludChleGlzdHNbMF0ucXVhbnRpdHkpICsgcGFyc2VJbnQoaXRlbS5xdWFudGl0eSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuY2FydC5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNhcnQpKTsKICAgIH0sCiAgICBzZXRJc0xvYWRpbmc6IGZ1bmN0aW9uIHNldElzTG9hZGluZyhzdGF0ZSwgc3RhdHVzKSB7CiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHN0YXR1czsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlVG9rZW46IGZ1bmN0aW9uIHJlbW92ZVRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgfSwKICAgIGNsZWFyQ2FydDogZnVuY3Rpb24gY2xlYXJDYXJ0KHN0YXRlKSB7CiAgICAgIHN0YXRlLmNhcnQgPSB7CiAgICAgICAgaXRlbXM6IFtdCiAgICAgIH07CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FydCkpOwogICAgfQogIH0sCiAgYWN0aW9uczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/store/index.js"],"names":["createStore","state","cart","items","isAuthenticated","token","isLoading","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","item","exists","filter","i","product","id","length","quantity","parseInt","push","setIsLoading","status","setToken","removeToken","clearCart","actions","modules"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cart:{\n      items: [],\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false\n  },\n  mutations: {\n    initializeStore(state){\n      if (localStorage.getItem('cart')){\n        state.cart = JSON.parse(localStorage.getItem('cart'))\n\n      }else{\n        localStorage.setItem('cart', JSON.stringify(state.cart))\n      }\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token')\n        state.isAuthenticated = true\n      } else {\n        state.token = ''\n        state.isAuthenticated = false\n      }\n    },\n    addToCart(state, item) {\n      const exists = state.cart.items.filter(i => i.product.id == item.product.id)\n\n      if (exists.length) {\n        exists[0].quantity = parseInt(exists[0].quantity) + parseInt(item.quantity)\n      } else {\n        state.cart.items.push(item)\n      }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    },\n    setIsLoading(state, status) {\n      state.isLoading = status\n    },\n    setToken(state, token) {\n      state.token = token\n      state.isAuthenticated = true\n    },\n    removeToken(state){\n      state.token = ''\n      state.isAuthenticated = false\n    },\n    clearCart(state) {\n      state.cart = {items: []}\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    },\n  },\n\n\n  actions: {\n  },\n  modules: {\n  }\n})\n"]}]}