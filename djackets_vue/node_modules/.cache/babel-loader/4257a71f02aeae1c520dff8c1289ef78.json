{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Category.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Category.vue","mtime":1630323529350},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90YW54aWFvbG9uZy9EZXNrdG9wL0Jsb2cvZGV2ZWxvcG1lbnQvZGphY2tldHNfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmltcG9ydCBQcm9kdWN0Qm94IGZyb20gIkAvY29tcG9uZW50cy9Qcm9kdWN0Qm94IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXRlZ29yeSIsCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdEJveDogUHJvZHVjdEJveAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgcHJvZHVjdHM6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmb3JtKSB7CiAgICAgIGlmICh0by5uYW1lID09ICdDYXRlZ29yeScpIHsKICAgICAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENhdGVnb3J5OiBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNhdGVnb3J5U2x1ZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjYXRlZ29yeVNsdWcgPSBfdGhpcy4kcm91dGUucGFyYW1zLmNhdGVnb3J5X3NsdWc7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3YxL3Byb2R1Y3RzLyIuY29uY2F0KGNhdGVnb3J5U2x1ZywgIi8iKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuY2F0ZWdvcnkgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IF90aGlzLmNhdGVnb3J5LnNsdWcgKyAnIHxEamFja2V0cyc7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBwcm9kdWN0IHdhZCBhZGRlZCB0byB0aGUgY2FydCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Category.vue"],"names":[],"mappings":";;;AAcA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,KAAR,QAAoB,aAApB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAC;AACT,IAAA,UAAS,EAAT;AADS,GAFE;AAKb,EAAA,IALa,kBAKP;AACJ,WAAO;AACL,MAAA,QAAQ,EAAC;AACP,QAAA,QAAQ,EAAE;AADH;AADJ,KAAP;AAKD,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,SAAK,WAAL;AACD,GAdY;AAeb,EAAA,KAAK,EAAE;AACL,IAAA,MADK,kBACE,EADF,EACM,IADN,EACY;AACf,UAAI,EAAE,CAAC,IAAH,IAAW,UAAf,EAA2B;AACzB,aAAK,WAAL;AACF;AACF;AALK,GAfM;AAsBb,EAAA,OAAO,EAAE;AACD,IAAA,WADC,yBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,gBAAA,YADW,GACI,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aADvB;;AAEjB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AAFiB;AAAA,uBAIX,KAAI,CACL,GADC,4BACuB,YADvB,QAED,IAFC,CAEI,UAAA,QAAO,EAAK;AAChB,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AAEA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,QAAL,CAAc,IAAd,GAAqB,YAAtC;AACD,iBANC,EAOH,KAPG,CAOI,UAAA,KAAI,EAAK;AACf,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,kBAAA,KAAK,CAAC;AACJ,oBAAA,OAAO,EAAC,mCADJ;AAEJ,oBAAA,IAAI,EAAE,YAFF;AAGJ,oBAAA,WAAW,EAAE,IAHT;AAIJ,oBAAA,YAAY,EAAE,IAJV;AAKJ,oBAAA,QAAQ,EAAE,IALN;AAMJ,oBAAA,QAAQ,EAAC;AANL,mBAAD,CAAL;AASD,iBAlBG,CAJW;;AAAA;AAwBjB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAxBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BnB;AA5BO;AAtBI,CAAf","sourcesContent":["<template>\n  <div class=\"page-category\">\n    <div class=\"column is-multiline\">\n      <div class=\"column is-12\">\n        <h2 class=\"is-size-2 has-text-centered\"> {{ category.name }}</h2>\n      </div>\n      <ProductBox v-for=\"product in category.products\" v-bind:key=\"product.id\" v-bind:product=\"product\"></ProductBox>\n\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {toast} from 'bulma-toast'\nimport ProductBox from \"@/components/ProductBox\";\n\nexport default {\n  name: \"Category\",\n  components:{\n    ProductBox\n  },\n  data(){\n    return {\n      category:{\n        products: []\n      }\n    }\n  },\n  mounted() {\n    this.getCategory()\n  },\n  watch: {\n    $route(to, form) {\n      if (to.name == 'Category') {\n        this.getCategory()\n      }\n    }\n  },\n  methods: {\n    async getCategory(){\n      const categorySlug = this.$route.params.category_slug\n      this.$store.commit('setIsLoading', true)\n\n      await axios\n          .get(`/api/v1/products/${categorySlug}/`)\n          .then(response => {\n            this.category = response.data\n\n            document.title = this.category.slug + ' |Djackets'\n          })\n        .catch( error => {\n          console.log(error)\n          toast({\n            message:'The product wad added to the cart',\n            type: 'is-success',\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position:\"bottom-right\",\n          })\n\n        })\n\n      this.$store.commit('setIsLoading', false)\n\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}