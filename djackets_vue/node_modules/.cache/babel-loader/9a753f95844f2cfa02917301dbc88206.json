{"remainingRequest":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Product.vue","mtime":1630315129377},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90YW54aWFvbG9uZy9EZXNrdG9wL0Jsb2cvZGV2ZWxvcG1lbnQvZGphY2tldHNfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHVjdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IHt9LAogICAgICBxdWFudGl0eTogMQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1Y3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2R1Y3Q6IGZ1bmN0aW9uIGdldFByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjYXRlZ29yeV9zbHVnLCBwcm9kdWN0X3NsdWc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgY2F0ZWdvcnlfc2x1ZyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnlfc2x1ZzsKICAgICAgICAgICAgICAgIHByb2R1Y3Rfc2x1ZyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMucHJvZHVjdF9zbHVnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3YxL3Byb2R1Y3RzLyIuY29uY2F0KGNhdGVnb3J5X3NsdWcsICIvIikuY29uY2F0KHByb2R1Y3Rfc2x1ZykpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnByb2R1Y3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IF90aGlzLnByb2R1Y3QubmFtZSArICcgfCBEamFja2V0cyc7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkgewogICAgICBpZiAoaXNOYU4odGhpcy5xdWFudGl0eSkgfHwgdGhpcy5xdWFudGl0eSA8IDEpIHsKICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTsKICAgICAgfQoKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiB0aGlzLnF1YW50aXR5CiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkVG9DYXJ0JywgaXRlbSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/tanxiaolong/Desktop/Blog/development/djackets_vue/src/views/Product.vue"],"names":[],"mappings":";;;;AAiCA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AACI,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEP;AACJ,WAAM;AACJ,MAAA,OAAM,EAAI,EADN;AAEJ,MAAA,QAAO,EAAI;AAFP,KAAN;AAID,GAPY;AAQb,EAAA,OARa,qBAQH;AACR,SAAK,UAAL;AACD,GAVY;AAWb,EAAA,OAAO,EAAC;AACA,IAAA,UADA,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AAEM,gBAAA,aAHU,GAGM,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aAHzB;AAIV,gBAAA,YAJU,GAIK,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAJxB;AAAA;AAAA,uBAKV,KAAI,CACL,GADC,4BACuB,aADvB,cACwC,YADxC,GAED,IAFC,CAEI,UAAA,QAAO,EAAK;AAChB,kBAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AAEA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,OAAL,CAAa,IAAb,GAAoB,aAArC;AACD,iBANC,EAOD,KAPC,CAOK,UAAA,KAAI,EAAK;AACd,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBATC,CALU;;AAAA;AAehB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAfgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBjB,KAlBK;AAmBN,IAAA,SAnBM,uBAmBK;AAET,UAAI,KAAK,CAAC,KAAK,QAAN,CAAL,IAAwB,KAAK,QAAL,GAAgB,CAA5C,EAA8C;AAC5C,aAAK,QAAL,GAAgB,CAAhB;AACF;;AAEA,UAAM,IAAG,GAAI;AACX,QAAA,OAAO,EAAE,KAAK,OADH;AAEX,QAAA,QAAQ,EAAE,KAAK;AAFJ,OAAb;AAKA,WAAK,MAAL,CAAY,MAAZ,CAAmB,WAAnB,EAAgC,IAAhC;AAKF;AAnCM;AAXK,CAAf","sourcesContent":["<template>\n  <div class=\"page-product\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-9\">\n        <figure class=\"image mb-6\">\n          <img v-bind:src=\"product.get_image\">\n        </figure>\n\n        <h1 class=\"title\">{{ product.name }}</h1>\n\n        <p>{{ product.description }}</p>\n      </div>\n\n      <div class=\"column is-3\">\n        <h2 class=\"subtitle\">Information</h2>\n        <p><strong>Price:</strong>${{ product.price }}</p>\n\n        <div class=\"field has-addons mt-6\">\n          <div class=\"control\">\n            <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\">\n          </div>\n\n          <div class=\"control\">\n            <a class=\"button is-dark\" @click=\"addToCart\">Add to cart</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\n    export default {\n      name: \"Product\",\n      data(){\n        return{\n          product : {},\n          quantity : 1\n        }\n      },\n      mounted() {\n        this.getProduct()\n      },\n      methods:{\n        async getProduct(){\n          this.$store.commit('setIsLoading', true)\n\n          const category_slug = this.$route.params.category_slug\n          const product_slug = this.$route.params.product_slug\n          await axios\n              .get(`/api/v1/products/${category_slug}/${product_slug}`)\n              .then(response => {\n                this.product = response.data\n\n                document.title = this.product.name + ' | Djackets'\n              })\n              .catch(error => {\n                console.log(error)\n              })\n          this.$store.commit('setIsLoading', false)\n\n        },\n        addToCart(){\n\n          if (isNaN(this.quantity) || this.quantity < 1){\n            this.quantity = 1\n          }\n\n          const item = {\n            product: this.product,\n            quantity: this.quantity\n          }\n\n          this.$store.commit('addToCart', item)\n\n\n\n\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}